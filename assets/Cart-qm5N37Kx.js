import{a as v,j as e,V as N,N as u,c as b,d as w,u as g,r as y,C,h as _}from"./index-ecRpd219.js";const P=({items:a,length:s})=>{var c;const{name:n,itemAttribute:i,price:o,defaultPrice:m}=(c=a==null?void 0:a.card)==null?void 0:c.info,d=v(),x=t=>{d(b(t))},l=t=>{d(w(t))};return e.jsxs("div",{className:"flex my-5",children:[e.jsx("div",{children:(i==null?void 0:i.vegClassifier)==="VEG"?e.jsx("img",{className:"w-5 border-none scale-75",src:N}):e.jsx("img",{className:"w-5 border-none scale-75",src:u})}),e.jsx("div",{className:"w-2/3 text-sm mx-2",children:n}),e.jsxs("div",{className:"relative mx-1 my-auto flex justify-center items-center w-20 h-10 bg-white shadow-lg border-slate-300 border-[1px] text-[#60b246] font-semibold text-[0.75rem]",children:[e.jsx("div",{className:"p-2 mx-3 text-lg cursor-pointer",onClick:()=>l(a),children:"-"}),e.jsx("div",{className:"absolute p-2 mx-1",children:s}),e.jsx("div",{className:"p-2 mx-3 text-lg  cursor-pointer",onClick:()=>x(a),children:"+"})]}),e.jsxs("div",{className:"text-sm my-auto",children:[e.jsx("span",{children:"₹"}),o/100||m/100]})]})},E=()=>{var d,x;const a=g(l=>l.cart.items),s=g(l=>l.cart.restaurant),[n,i]=y.useState(null),o=v();y.useEffect(()=>{(()=>{const c=a.reduce((t,r)=>{var h,j,p,f;return t+(((j=(h=r==null?void 0:r.card)==null?void 0:h.info)==null?void 0:j.price)/100||((f=(p=r==null?void 0:r.card)==null?void 0:p.info)==null?void 0:f.defaultPrice)/100)*r.quantity},0);i(c)})()},[a]);const m=()=>{o(_())};return a.length===0?e.jsxs("div",{className:"absolute top-0 w-full h-full flex flex-col justify-center items-center",children:[e.jsx("img",{className:" w-72",src:"./Images/Empty_cart.avif",alt:"Empty Cart"}),e.jsx("h1",{className:"mt-5 mb-2 font-extrabold text-lg text-[#535665]",children:"Your cart is empty"}),e.jsx("p",{className:"text-sm text-[#7E808C]",children:"You can go to home page to view more restaurants"})]}):e.jsx("div",{className:"bg-gray-200 absolute top-0 h-full w-full flex justify-center  pt-20",children:e.jsxs("div",{className:"p-8 md:w-4/6 flex flex-col md:grid md:grid-cols-12 gap-4",children:[e.jsxs("div",{className:"md:col-span-8",children:[e.jsxs("div",{className:"bg-white md:grid md:grid-cols-12 items-center justify-center p-8",children:[e.jsxs("div",{className:"md:col-span-8 flex flex-col justify-center",children:[e.jsx("h1",{className:"font-bold text-lg text-gray-800",children:"Account"}),e.jsx("p",{className:"py-4 text-gray-500",children:"To place your order now, log in to your existing account or sign up"}),e.jsxs("div",{className:"md:col-span-4 flex flex-col md:flex-row justify-center items-center",children:[e.jsxs("div",{className:"w-full border text-center border-green-600 text-green-600 py-2 px-4 cursor-pointer",children:[e.jsx("div",{className:"text-xs",children:"Have an account?"}),e.jsx("div",{className:"uppercase font-bold text-sm",children:"Log in"})]}),e.jsxs("div",{className:"w-full my-2 md:my-0 mx-4 text-center border border-green-600 bg-green-600 text-white py-2 px-4 cursor-pointer",children:[e.jsx("div",{className:"text-xs",children:"New to Swiggy?"}),e.jsx("div",{className:"uppercase font-bold text-sm",children:"Sign up"})]})]})]}),e.jsx("div",{className:"hidden md:col-span-4 md:flex justify-center items-center",children:e.jsx("img",{src:"https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,w_147,h_140/Image-login_btpq7r",alt:"food"})})]}),e.jsx("div",{className:"bg-white my-4 p-8",children:e.jsx("h1",{className:"col-span-4 font-bold text-gray-400",children:"Delivery Address"})}),e.jsx("div",{className:"bg-white my-4 p-8",children:e.jsx("h1",{className:"col-span-4 font-bold text-gray-400",children:"Payment"})})]}),e.jsxs("div",{className:" md:col-span-4 bg-white",children:[e.jsxs("div",{className:"p-8 grid grid-cols-12",children:[e.jsx("div",{className:"col-span-3",children:e.jsx("img",{className:"w-12 h-12",src:C+(s==null?void 0:s.cloudinaryImageId),alt:"restaurant-logo"})}),e.jsxs("div",{className:"col-span-9",children:[e.jsx("h1",{className:"text-md font-bold",children:s==null?void 0:s.name}),e.jsx("span",{className:"text-gray-500 text-sm relative  -top-[0.4rem]",children:s==null?void 0:s.city}),e.jsx("hr",{className:"border-b-2 border-gray-950 w-12"})]})]}),e.jsx("div",{className:"m-auto flex justify-end text-sm cursor-pointer text-[#60b246] w-5/6",onClick:m,children:"Clear Cart"}),e.jsx("div",{className:"px-4",children:a&&[...new Set(a)].map(l=>{var c,t;return e.jsx(e.Fragment,{children:e.jsx(P,{items:l,length:l==null?void 0:l.quantity},(t=(c=l==null?void 0:l.card)==null?void 0:c.info)==null?void 0:t.id)})})}),e.jsxs("div",{className:"p-8",children:[e.jsx("h3",{className:"text-sm font-bold",children:"Bill Details"}),e.jsxs("div",{className:"py-1 flex justify-between text-sm text-gray-400",children:[e.jsx("div",{className:"text-xs",children:"Item Total"}),e.jsxs("div",{className:"text-xs",children:[e.jsx("span",{children:"₹"})," ",Math.ceil(n,2)]})]}),e.jsxs("div",{className:"py-1 pb-4 flex justify-between text-xs text-gray-400 border-b border-gray-200",children:[e.jsxs("div",{children:["Delivery Fee | ",s==null?void 0:s.sla.lastMileTravelString]}),e.jsxs("div",{children:[e.jsx("span",{children:"₹"})," ",((d=s==null?void 0:s.feeDetails)==null?void 0:d.totalFee)/100]})]}),e.jsxs("div",{className:"py-1 pt-4 flex justify-between text-xs text-gray-400",children:[e.jsx("div",{children:"Delivery tip"}),e.jsx("div",{className:"cursor-pointer text-[#60b246]",children:"Add tip"})]}),e.jsxs("div",{className:"py-1 flex justify-between text-xs text-gray-400",children:[e.jsx("div",{children:"Platform fee"}),e.jsxs("div",{children:[e.jsx("span",{children:"₹"})," 3"]})]}),e.jsxs("div",{className:"py-1 pb-4 flex justify-between text-xs text-gray-400 border-b-2 border-gray-900",children:[e.jsx("div",{children:"GST and Restaurant Charges"}),e.jsx("div",{children:"NoGSThehe"})]}),e.jsxs("div",{className:"my-3 text-sm font-bold flex justify-between",children:[" ",e.jsx("span",{children:"TO PAY"}),e.jsxs("span",{children:["₹",Math.ceil(n,2)+((x=s==null?void 0:s.feeDetails)==null?void 0:x.totalFee)/100+3]})]})]})]})]})})};export{E as default};
